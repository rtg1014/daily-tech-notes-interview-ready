

[10분 테코톡] 디투의 쿠키와 세션
출처 : https://www.youtube.com/watch?v=XgcCkcKGbys


쿠키와 세션에 대한 유튜브 스크립트를 깔끔하게 정리해드리겠습니다.

---

# **쿠키와 세션**  
안녕하세요! 쿠키와 세션에 대해 발표하게 된 백엔드 5기 디투입니다. 발표를 시작하겠습니다.

## **📌 쿠키란?**  
쿠키는 웹사이트에 접속했을 때 **브라우저에 저장되는 작은 데이터 파일**을 의미합니다.  
쿠키에는 주로 다음과 같은 정보가 저장됩니다.  

✅ **사이트 방문 이력**  
✅ **검색 기록**  
✅ **로그인 상태와 같은 사용자 정보**  

### **🚀 쿠키의 특징**  
1️⃣ **브라우저 단위로 생성됨**  
   - 동일한 기기에서 같은 사이트에 접속하더라도 **브라우저가 다르면** 별도의 쿠키가 생성됩니다.  
   - 예) 크롬에서 로그인한 사이트를 사파리에서 다시 방문하면 로그인 상태가 유지되지 않음.  

2️⃣ **각 도메인은 독립적으로 쿠키를 발행할 수 있음**  
   - 특정 도메인은 **다른 도메인의 쿠키를 대신 발행할 수 없음**  
   - 예) `kakao.com`이 `woowa.com`의 쿠키를 발급할 수 없음.  

3️⃣ **쿠키는 만료 시간까지 상태 정보를 유지할 수 있음**  
   - 서버가 쿠키를 생성할 때 **만료 시간**을 설정할 수 있음.  

---

## **📌 쿠키는 왜 필요할까?**  
HTTP는 **무상태(Stateless) 프로토콜**이기 때문에 **사용자의 상태를 유지할 수 없음**  
이를 해결하기 위해 쿠키를 사용하여 **사용자의 정보를 유지**합니다.  

### **📌 쿠키의 동작 방식**  
1️⃣ 클라이언트 → 서버 : 요청을 보냄  
2️⃣ 서버 → 클라이언트 : 응답과 함께 쿠키를 생성하여 전달  
3️⃣ 이후 클라이언트는 **매번 요청 시 쿠키를 함께 전송**  
4️⃣ 서버는 받은 쿠키를 통해 사용자 정보를 확인하여 응답  

---

## **📌 쿠키의 활용 사례**  
✅ **장바구니 기능**  
   - 로그인하지 않은 상태에서도 담은 상품이 유지됨.  

✅ **'오늘 하루 이 창을 다시 보지 않기' 기능**  
   - 쿠키를 이용해 팝업창 노출 여부를 결정.  

✅ **로그인 유지 기능**  
   - 로그인 후 재방문 시 자동 로그인 처리.  

### **🔴 쿠키가 탈취되면?**  
쿠키가 해커에게 탈취되면 **임의로 조작**할 수 있으며, 로그인 정보가 포함된 쿠키라면 **다른 사용자가 대신 로그인할 수도 있음**  
💡 **보안 문제 해결을 위해 쿠키와 세션을 함께 사용!**  

---

# **📌 세션(Session)**
세션은 **사용자 정보를 서버에 저장하는 방식**입니다.  
쿠키는 브라우저에 저장되지만, **세션은 서버에 저장**되며, 클라이언트는 **세션 ID만 쿠키로 저장**하여 사용합니다.  

### **📌 세션의 동작 방식**
1️⃣ 클라이언트 → 서버 : 로그인 요청 (이메일 & 비밀번호)  
2️⃣ 서버 → 클라이언트 : 로그인 검증 후 **세션 ID 생성**  
3️⃣ 세션 ID를 쿠키에 저장하여 클라이언트에게 전달  
4️⃣ 이후 클라이언트는 세션 ID를 이용하여 인증 요청  

💡 **이 방식은 쿠키에 사용자 정보가 직접 저장되지 않기 때문에 더 안전함**  

---

## **📌 쿠키 & 세션 비교**
| 구분 | 쿠키 (Cookie) | 세션 (Session) |
|------|--------------|---------------|
| **저장 위치** | 클라이언트(브라우저) | 서버 |
| **보안성** | 낮음 (정보가 직접 저장됨) | 높음 (세션 ID만 저장) |
| **만료 시간** | 직접 설정 가능 | 일정 시간 동안 유지 (주로 30분) |
| **서버 부담** | 없음 | 서버 메모리 사용 |

**✅ 왜 세션을 서버에서 관리할까?**  
- **쿠키에 세션 ID만 저장**하면, 해커가 쿠키를 탈취하더라도 **개인 정보는 서버에 보관**되어 있어 보안성이 높아짐.  
- **전문적인 서버 보안 관리**가 가능.  

---

## **📌 쿠키 & 세션의 단점**
1️⃣ **속도 문제**  
   - 세션은 서버의 리소스를 사용하므로 **사용자가 많아지면 속도가 저하됨.**  

2️⃣ **서버 메모리 부담**  
   - **세션을 저장하는 서버의 자원이 증가**함.  

---

## **📌 쿠키 & 세션의 한계 → 토큰 인증 방식 등장**
✅ **서버 부담을 줄이고, 더 보안이 강한 방식이 필요함**  
✅ **JWT, OAuth, 토큰 기반 인증 방식이 등장**  

💡 **더 알아보고 싶다면 다음 키워드로 학습 추천!**  
🔹 JWT (JSON Web Token)  
🔹 OAuth 2.0  
🔹 Access Token & Refresh Token  

---

### **📌 마무리**
✅ 쿠키는 **클라이언트(브라우저)에 저장**, 세션은 **서버에서 관리**  
✅ 보안성을 높이기 위해 **쿠키에는 최소한의 정보(세션 ID)만 저장**하고, 주요 정보는 서버에서 관리  
✅ 사용자가 많아질 경우 **서버 리소스를 효율적으로 사용하기 위해 토큰 기반 인증 방식(JWT, OAuth 등)도 고려**해야 함.  

📢 **이상으로 발표를 마치겠습니다. 감사합니다!** 🎉




---
---



<br>


> # 추가항목 - 기술면접시 알아야 할 내용들

<br>

### **📌 쿠키 & 세션 - 기술 면접을 위한 심화 개념 정리**  

기본적인 개념은 잘 이해하고 계시므로, **기술 면접에서 더 깊이 있는 답변을 할 수 있도록 쿠키와 세션의 특성과 한계를 깊이 분석하고, 실무에서 어떻게 활용되는지**를 설명드리겠습니다.  

---

## **📌 1. 쿠키와 세션의 차이와 근본적인 이유**  

쿠키와 세션은 **클라이언트-서버 간의 상태 유지(Stateful Interaction)**를 위한 대표적인 방식입니다.  
이 둘의 가장 큰 차이는 **저장 위치**입니다.  

| 구분 | 쿠키 (Cookie) | 세션 (Session) |
|------|--------------|---------------|
| **저장 위치** | 클라이언트(브라우저) | 서버 |
| **보안성** | 낮음 (정보가 직접 저장됨) | 높음 (세션 ID만 저장) |
| **속도** | 빠름 (클라이언트에서 처리) | 느림 (서버 요청 필요) |
| **만료 시간** | 직접 설정 가능 | 서버에서 관리 |
| **서버 부담** | 없음 | 많음 (세션 저장 필요) |

### **💡 왜 쿠키는 클라이언트에 저장하고, 세션은 서버에 저장할까?**  

쿠키는 **클라이언트에 저장**되기 때문에 빠르게 접근할 수 있지만, **브라우저 내에 존재하기 때문에 보안상 취약**합니다.  
→ 따라서 민감한 정보(예: 비밀번호, 결제 정보)를 저장하는 것은 **위험**합니다.  

세션은 **서버에서 관리**하기 때문에 보안성이 높고, **클라이언트는 세션 ID만 쿠키로 보관**하여 이를 서버에 전달하는 방식으로 인증을 수행합니다.  
→ 하지만 서버에 부하가 커질 수 있으므로 **사용자 수가 많아질 경우 부하 분산이 필요**합니다.  

---

## **📌 2. 왜 쿠키는 특정 상황에서만 사용하고, 세션을 활용하는가?**  

### **💡 2-1. 보안 이슈 - 쿠키는 보안이 취약하다**
**❌ 문제점**  
1. **클라이언트에서 쉽게 조작 가능**  
   - 브라우저 개발자 도구(F12)에서 쿠키를 쉽게 확인하고 수정할 수 있음.  
2. **네트워크 전송 중 탈취 가능 (Man-in-the-Middle Attack)**  
   - HTTP 요청 시 쿠키가 함께 전송되므로, **HTTPS를 사용하지 않으면 중간에서 가로채기 가능**  
3. **XSS (Cross-Site Scripting) 공격 가능**  
   - 악성 스크립트가 삽입되면, 해당 쿠키를 가로채는 방식.  
4. **CSRF (Cross-Site Request Forgery) 공격 가능**  
   - 사용자의 세션을 가로채서 의도하지 않은 요청을 수행하게 만듦.  

**✅ 해결 방법**
- `Secure` 속성 사용 → HTTPS에서만 쿠키 전송  
- `HttpOnly` 속성 사용 → 자바스크립트에서 접근 불가 (XSS 방어)  
- `SameSite` 속성 사용 → CSRF 방어  

**👉 실무에서는 `HttpOnly`, `Secure`, `SameSite` 속성을 필수적으로 설정해야 함.**  

---

### **💡 2-2. 서버 부담 문제 - 세션은 리소스를 많이 사용한다**  
**❌ 문제점**  
1. **모든 요청을 서버에서 관리해야 함**  
   - 클라이언트가 많아질수록 **서버 메모리 부담 증가**  
2. **세션 유지 시간이 길어질수록 관리 비용 증가**  
   - 사용자가 많아지면 세션이 지속적으로 유지되면서 메모리 소비 증가  

**✅ 해결 방법**  
- **세션 스토리지(DB, Redis) 활용**  
  - 세션을 메모리에 저장하는 대신 **Redis 같은 인메모리 DB를 활용**하여 빠르게 조회  
- **세션 만료 시간 설정**  
  - 일정 시간이 지나면 세션을 삭제하여 메모리 부담을 줄임.  
- **Stateless 인증 방식(JWT) 사용**  
  - JWT(JSON Web Token)를 활용하여 **세션을 서버가 직접 관리하지 않고, 클라이언트가 보관하도록 유도**  

**👉 실무에서는 고성능 시스템의 경우 Redis 또는 JWT 기반 인증을 많이 활용**  

---

## **📌 3. 세션과 JWT(JSON Web Token) 비교**  

### **💡 JWT가 등장한 이유**
세션을 활용하면 서버 부담이 증가하기 때문에 **Stateless(무상태)한 인증 방식**이 필요해졌고, 이를 해결하기 위해 **JWT**가 등장했습니다.  

| 구분 | 세션 (Session) | JWT (JSON Web Token) |
|------|--------------|--------------------|
| **저장 위치** | 서버 | 클라이언트 (토큰) |
| **보안성** | 서버에서 관리 (안정적) | 탈취 시 보안 위험 |
| **서버 부하** | 세션 저장소 필요 (메모리 부담) | 별도 저장소 필요 없음 (Stateless) |
| **만료 시간** | 서버에서 제어 가능 | 토큰 자체에 포함 |
| **주요 사용처** | 로그인 유지 | API 인증 (OAuth 2.0) |

✅ **JWT의 장점**  
- 서버가 상태를 저장하지 않음 → **Stateless한 인증 가능**  
- 토큰 자체에 정보가 포함되어 있어 서버가 매번 인증을 조회할 필요 없음.  

❌ **JWT의 단점**  
- 보안성이 낮음 → **토큰이 탈취되면 누구나 인증 가능**  
- 토큰 크기가 커서 요청 시 **네트워크 트래픽 증가**  
- **토큰 무효화가 어려움** (세션은 삭제하면 끝이지만, JWT는 이미 클라이언트가 보관 중이므로 무효화가 어려움)  

**👉 실무에서는 JWT와 세션을 적절히 조합하여 사용**  
- JWT로 인증 후 세션을 활용하여 추가적인 권한 관리  

---

## **📌 4. 기술 면접에서 답변할 때 강조할 내용**
기술 면접에서 쿠키와 세션에 대해 질문받을 경우, 단순한 개념 설명보다는 **"왜 이 기술을 사용해야 하는가?", "보안적으로 어떤 점이 문제인가?"** 등의 내용을 강조하면 좋습니다.  

### **💡 쿠키와 세션 비교 질문**
> "쿠키와 세션의 차이점은 무엇인가요?"  
✅ **기본 개념**  
- 쿠키는 **클라이언트(브라우저)에서 저장**, 세션은 **서버에서 관리**  
- 보안이 중요한 경우 **세션 사용**  

✅ **실무적인 고려 사항**  
- 쿠키는 **가벼운 상태 유지** (장바구니, 팝업 노출 여부)  
- 세션은 **보안이 중요한 데이터** (로그인 정보, 사용자 권한)  
- **고성능 서비스에서는 Redis 기반 세션 관리 또는 JWT 활용**  

### **💡 세션 vs JWT 질문**
> "세션과 JWT의 차이점은 무엇인가요?"  
✅ **기본 개념**  
- 세션은 **서버가 인증 상태를 유지**, JWT는 **클라이언트가 토큰을 보관하여 상태를 유지**  
- JWT는 **Stateless**, 세션은 **Stateful**  

✅ **실무적인 고려 사항**  
- 세션은 **보안이 중요하고, 자주 변하는 인증 정보**를 관리할 때 유리  
- JWT는 **API 기반 인증(OAuth 2.0)과 같이 서버 부하를 줄이는 용도로 사용**  
- 보안이 중요한 서비스(예: 은행, 금융)에서는 **세션을 선호**  

---

## **📌 마무리**
✅ **쿠키는 클라이언트에서 관리, 세션은 서버에서 관리**  
✅ **보안이 중요한 경우 세션 사용, 퍼포먼스가 중요한 경우 JWT 사용**  
✅ **실무에서는 세션을 Redis에 저장하여 부하를 줄이고, JWT로 API 인증을 관리**  
✅ **보안 강화: Secure, HttpOnly, SameSite 속성을 설정해야 함**  

📢 **기술 면접에서 강조할 핵심 포인트는 "왜 이 기술을 선택했는가?"입니다. 단순한 개념 설명이 아니라, 실무적인 활용과 보안적인 고려 사항까지 함께 이야기하는 것이 중요합니다!** 🎯

